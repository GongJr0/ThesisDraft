# Description: 3-equation NK model calibrated to Clarida-Gali-Gertler
# Volcker-Greenspan sample (1979Q3-1996Q4), baseline k = q = 1.
# Structural NKPC/IS are textbook; Taylor-rule parameters from CGG (Table II).

declarations:
  name: 'nk_cgg_post79'
  variables: [Pi, x, r, r_star, u]
  constrained: [r]

  parameters: [beta, sigma, kappa,
               phi_pi, phi_x, rho_r,
               rho_u, sig_u, sig_r,
               rbar, pi_mean, elb_level]

  shocks: [e_u, e_r]
  observables: [Infl, Rate]

  para_func: []

equations:
  model:
    #Phillips Curve:
    - Pi = beta*Pi(+1) + kappa*x

    # IS / Euler equation:
    - x = x(+1) - sigma*(r - Pi(+1)) + u

    # AR(1) demand shock:
    - u = rho_u*u(-1) + e_u

    # Taylor-rule target rate (baseline k = q = 1):
    - r_star = rbar + phi_pi*Pi + phi_x*x + e_r

    # Interest-rate smoothing:
    - r = rho_r*r(-1) + (1 - rho_r)*r_star

  constraint:
    - r = r

  observables:
    # Observed inflation level (e.g. annualized percent):
    Infl: Pi + pi_mean
    # Observed policy rate (same units as rbar and pi_mean):
    Rate: r

calibration:
  parameters:
    # Discount factor (quarterly):
    beta: 0.99

    # Intertemporal elasticity inverse (sigma = 1 is clean baseline):
    sigma: 1.0

    # NKPC slope kappa:
    kappa: 0.024

    # CGG Volcker-Greenspan estimates (Table II, baseline k = q = 1):
    # pi_star approx 3.58, b approx 2.15, g approx 0.93, rho approx 0.79
    phi_pi: 2.15   # response to inflation gap
    phi_x: 0.93    # response to output gap
    rho_r: 0.79    # interest-rate smoothing

    # Demand shock AR(1):
    rho_u: 0.70

    # Shock standard deviations (illustrative, tune to taste):
    sig_u: 0.50
    sig_r: 0.25

    # Long-run nominal rate and mean inflation (units = annual percentage points):
    rbar: 4.0
    pi_mean: 3.58

    # Effective lower bound (set > 0 if you want ZLB/ELB):
    elb_level: 0.0

#  parafunc: {}

  covariances:
    e_u: sig_u
    e_r: sig_r

estimation:
  prior:
    phi_pi: [2.15, 1.0, 4.0, normal, 2.0, 0.5]
    phi_x:  [0.93, 0.0, 2.0, normal, 0.5, 0.5]
    rho_r:  [0.79, 0.5, 0.99, beta, 0.7, 0.15]
    rho_u:  [0.70, 0.01, 0.99, beta, 0.5, 0.20]
    sig_u:  [0.50, 0.01, 5.0, inv_gamma_dynare, 0.1, 2.0]
    sig_r:  [0.25, 0.01, 5.0, inv_gamma_dynare, 0.1, 2.0]
