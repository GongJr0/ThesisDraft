name: "NK_LS_POST82"

variables: [g, z, r, Pi, x]
constrained:
  Pi: false
  x: false
  r: false
  g: false
  z: false

# Parameter naming:
# beta: discount factor (often fixed near 0.99 in quarterly models; LS paper doesn’t pin it in Table 3)
# kappa: NKPC slope
# tau_inv: τ^{-1} in LS (maps to 1/sigma if you prefer sigma = τ)
# psi_pi, psi_x: Taylor rule loadings (ψ1, ψ2)
# rho_r, rho_g, rho_z: AR(1) persistence
# pi_star, r_star: steady-state inflation / real rate (paper units!)
# sig_R, sig_g, sig_z: std devs of innovations
# rho_gz: corr(ε_g, ε_z)  (optional; you can implement later)

parameters: [beta, kappa, tau_inv,
             psi_pi, psi_x, rho_r,
             rho_g, rho_z,
             pi_star, r_star,
             sig_R, sig_g, sig_z,
             rho_gz]

shocks: [e_R, e_g, e_z]

observables: [Infl, Rate]

equations:
  model:
    # NK Phillips curve:  Pi_t = beta E_t Pi_{t+1} + kappa x_t + z_t
    - Pi(t) = beta*Pi(t+1) + kappa*x(t) + z(t)

    # IS / Euler: x_t = E_t x_{t+1} - tau_inv*( r_t - E_t Pi_{t+1} ) + g_t
    - x(t) = x(t+1) - tau_inv*(r(t) - Pi(t+1)) + g(t)

    # Taylor rule in deviations around steady state (keep steady states in observables)
    # r_t = rho_r r_{t-1} + (1-rho_r)*( psi_pi*Pi_t + psi_x*x_t ) + e_R,t
    - r(t) = rho_r*r(t-1) + (1 - rho_r)*(psi_pi*Pi(t) + psi_x*x(t)) + e_R

    # Demand shock: g_t = rho_g g_{t-1} + e_g,t
    - g(t) = rho_g*g(t-1) + e_g

    # Cost-push shock: z_t = rho_z z_{t-1} + e_z,t
    - z(t) = rho_z*z(t-1) + e_z

  constraint: {}

  observables:
    # If your data is inflation in levels, add steady-state (but be consistent about annualized vs quarterly)
    Infl: Pi(t) + pi_star
    # If your observed nominal rate is in levels, add steady state nominal rate approx r_star + pi_star
    Rate: r(t) + r_star + pi_star

calibration:
  parameters:
    # beta is not in Table 3; pick a standard quarterly value unless your chosen paper gives it.
    beta: 0.99

    # Post-1982 posterior means (Table 3)
    psi_pi: 2.19
    psi_x: 0.30
    rho_r: 0.84

    pi_star: 3.43
    r_star: 3.01

    kappa: 0.58
    tau_inv: 1.86

    rho_g: 0.83
    rho_z: 0.85
    rho_gz: 0.36

    sig_R: 0.18
    sig_g: 0.18
    sig_z: 0.64

  # If you keep your "shocks map to sig params" idea, keep it here.
  # If you removed it in your parser, just ignore this section and pull sig_* directly.
  shocks:
    e_R: sig_R
    e_g: sig_g
    e_z: sig_z