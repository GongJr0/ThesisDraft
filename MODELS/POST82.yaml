name: "NK_LS_POST82"

variables: [g, z, r, x, Pi]
constrained:
  Pi: false
  x: false
  r: false
  g: false
  z: false

# Parameter naming:
# beta: discount factor (often fixed near 0.99 in quarterly models; LS paper doesn’t pin it in Table 3)
# kappa: NKPC slope
# tau_inv: tau^{-1} in LS (maps to 1/sigma)
# psi_pi, psi_x: Taylor rule loadings (ψ1, ψ2)
# rho_r, rho_g, rho_z: AR(1) persistence
# pi_star, r_star: steady-state inflation / real rate (paper units)
# sig_R, sig_g, sig_z: std devs of innovations
# rho_gz: corr(ε_g, ε_z)

parameters: [beta, kappa, tau_inv,
             psi_pi, psi_x, rho_r,
             rho_g, rho_z,
             pi_star, r_star,
             sig_r, sig_g, sig_z,
             rho_gz,
             meas_infl, meas_rate, meas_out,
             meas_rho_ir, meas_rho_or, meas_rho_io]

shock_map:
  e_g: g
  e_z: z
  e_r: r

observables: [Infl, Rate, Out_HP]

equations:
  model:
    # NKPC
    - Pi(t) = beta*Pi(t+1) + kappa*(x(t) - z(t))

    # IS / Euler
    - x(t) = x(t+1) - (1/tau_inv)*(r(t) - Pi(t+1)) + g(t)

    # Taylor rule in deviations around steady state (keep steady states in observables)
    - r(t) = rho_r*r(t-1) + (1 - rho_r)*(psi_pi*Pi(t) + psi_x*(x(t) - z(t))) + e_r

    # Demand shock: g_t = rho_g g_{t-1} + e_g,t
    - g(t) = rho_g*g(t-1) + e_g

    # Cost-push shock: z_t = rho_z z_{t-1} + e_z,t
    - z(t) = rho_z*z(t-1) + e_z

  constraint: {}

  observables:
    Infl: 4*Pi(t) + pi_star # model gap deviation + steady-state

    Rate: 4*r(t) + (r_star + pi_star) # model rate gap deviation + steady-state nominal rate

    Out_HP: x(t)

calibration:
  parameters:
    # beta is not in Table 3.
    beta: 0.99

    # Post-1982 posterior means (Table 3)
    psi_pi: 2.19
    psi_x: 0.30
    rho_r: 0.84

    pi_star: 3.43
    r_star: 3.01

    kappa: 0.58
    tau_inv: 1.86

    rho_g: 0.83
    rho_z: 0.85
    rho_gz: 0.36

    sig_r: 0.18
    sig_g: 0.18
    sig_z: 0.64

    meas_infl: 0.2
    meas_rate: 0.1
    meas_out: 0.2
    meas_rho_ir: 0.05
    meas_rho_or: 0.0
    meas_rho_io: 0.0

  shocks:
    std:
      e_g: sig_g
      e_z: sig_z
      e_r: sig_r
    corr:
      e_g, e_z: rho_gz

kalman:
  y: [Infl, Rate, Out_HP]

  R:
    std:
      Infl: meas_infl
      Rate: meas_rate
      Out_HP: meas_out
    corr:
      Infl, Rate: meas_rho_ir
      Infl, Out_HP: meas_rho_io
      Rate, Out_HP: meas_rho_or
  P0:
    mode: diag # "diag" | "eye"
    scale: 10.0
    diag:
    # = 'eye' if all = 1.0
      g: 1.0
      z: 1.0
      r: 1.0
      Pi: 1.0
      x: 1.0

  jitter: 1e-10
  symmetrize: true
